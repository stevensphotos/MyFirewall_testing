# üõ°Ô∏è Mode d'emploi : MyFirewall

## Introduction
MyFirewall est une solution de protection de la vie priv√©e et de contr√¥le r√©seau pour Android. Elle permet de bloquer les publicit√©s, les traceurs et de contr√¥ler pr√©cis√©ment l'acc√®s Internet de chaque application install√©e, que votre appareil soit root√© ou non.

---

## üîë Les Permissions (√âcran Onboarding)
Lors du premier d√©marrage, MyFirewall n√©cessite plusieurs autorisations critiques pour fonctionner :

*   **Service VPN (Local)** : Utilis√© pour intercepter le trafic sans envoyer vos donn√©es √† un serveur externe.
*   **Statistiques d'utilisation (optionnel)** : Permet d'identifier quelle application consomme des donn√©es en temps r√©el.
*   **Notifications** : Indispensable pour maintenir le service actif en arri√®re-plan et vous alerter en cas de d√©connexion.
*   **Acc√®s Root (Optionnel)** : Permet un filtrage de bas niveau via le fichier `hosts` syst√®me, offrant de meilleures performances et une consommation de batterie nulle.

---

## 1. √âcran Dashboard (Status)
Cet √©cran centralise l'√©tat de votre protection.

*   **Surveillance** : Visualisez le nombre d'applications bloqu√©es et la vitesse actuelle du trafic (Upload/Download).
*   **Cartes des r√®gles (Filtres URL)** :
    *   **Appui prolong√©** : Permet d'activer ou de d√©sactiver instantan√©ment une cat√©gorie de filtrage (Publicit√©s, R√©seaux Sociaux, etc.) directement depuis le tableau de bord sans passer par les r√©glages.

---

## 2. √âcran Applications
G√©rez les droits d'acc√®s r√©seau de chaque application individuellement.

### 2.1 Cat√©gories et Filtres rapides
*   **Ic√¥nes de filtrage** : En haut de la liste, des ic√¥nes permettent d'isoler les applications (Toutes, Syst√®me, Utilisateur, Acc√®s Internet, Pas d'acc√®s Internet).
*   **Appui prolong√© sur une ic√¥ne de filtre** : S√©lectionne ou d√©s√©lectionne rapidement toutes les applications correspondant √† ce filtre pour une gestion group√©e.

### 2.2 Contr√¥le par application
*   **Clic sur l'ic√¥ne de l'application** : Ouvre les propri√©t√©s syst√®me de l'application (pour vider le cache ou forcer l'arr√™t).
*   **Appui prolong√© sur le nom de l'application** : Bascule instantan√©ment toute la connectivit√© (ON/OFF). Si l'application √©tait autoris√©e, elle devient totalement bloqu√©e, et inversement.
*   **Fonctionnement des ic√¥nes de flux** :
    *   üåê **Wi-Fi** : Autorise/Bloque l'acc√®s lorsque vous √™tes sur un r√©seau sans fil.
    *   üì∂ **Mobile Data** : Autorise/Bloque l'acc√®s sur les r√©seaux 4G/5G.
    *   ‚úàÔ∏è **Roaming** : Bloque sp√©cifiquement l'acc√®s lorsque vous √™tes √† l'√©tranger pour √©viter les frais de hors-forfait.

---

## 3. √âcran Rules (R√®gles de filtrages par nom de domaines)
Configurez votre moteur de blocage DNS.

### 3.1 S√©lections des listes (Presets)
*   **Provenance** : Les listes proviennent de sources reconnues (StevenBlack, AdAway,).
*   **Mises √† jour** : MyFirewall v√©rifie p√©riodiquement la fra√Æcheur des listes. Vous pouvez forcer une mise √† jour manuelle pour obtenir les derniers domaines malveillants r√©pertori√©s.

### 3.2 User Blocklist (√âdition Manuelle)
*   **√âdition** : Ecrivez, Copiez/collez vos propres domaines √† bloquer dans le champ texte (un par ligne).
*   **Bouton Clear** :
    *   *Appui simple* : Vide le champ de texte actuel pour une nouvelle saisie. Appui simple* : Vide le champ de texte actuel pour une nouvelle saisie.
    *   Le bouton Configurer recharge dans l'√©diteur les r√®gles pr√©sentes dans la base de donn√©es.
    *   *Via menu d√©roulant* : Permet de supprimer d√©finitivement toutes les r√®gles personnalis√©es enregistr√©es dans la base de donn√©es.
*   **Export local** : Utilisez le boutons d√©di√©s pour exporter vos r√®gles vers un fichier `.txt`

### 3.3 √âcran Import / Export (Global)
*   **Bouton Exporter** : Sauvegarde votre configuration compl√®te.
    *   **Menu d√©roulant** : Permet d'exporter s√©lectivement soit les r√®gles d'applications (Pare-feu), soit les listes de filtrage URL.
*   **Bouton Importer** : Applique la m√™me logique pour restaurer s√©lectivement vos r√©glages √† partir d'une sauvegarde pr√©c√©dente.

---

## 4. √âcran Settings (Param√®tres)
Le c≈ìur de la configuration technique.

### 4.1 Appareils non-root√©s
Sur ces appareils, le filtrage utilise le moteur VPN local.
*   **Exclusivit√©** : Le filtrage d'URL et le filtrage d'applications sont exclusifs. Vous devez choisir quel moteur est prioritaire pour la gestion du tunnel VPN.

### 4.2 Appareils root√©s
*   **Cumul** : Les r√®gles sont cumulatives. Vous pouvez utiliser le moteur **Hosts** pour le filtrage d'URL (DNS) et le moteur **VPN** pour le filtrage d'applications, offrant une protection double couche ultra-performante.

### 4.3 Serveur DNS Custom
*   **Non-Root** : Vous pouvez sp√©cifier un serveur DNS personnalis√© (ex: Cloudflare, Quad9) directement dans l'application.
*   **Root** : Le DNS doit √™tre r√©gl√© directement dans les param√®tres syst√®me d'Android pour utiliser un serveur DNS personnalis√©.

### 4.4 Notification et filtrage Hosts
*   **Filtrage URL Hosts** : Un service d√©di√© s'occupe de l'√©criture s√©curis√©e du fichier hosts syst√®me, ou le systemless hosts de Magisk.
*   **Ind√©pendance** : Une fois que le fichier `hosts` est √©crit par MyFirewall, le blocage devient natif. M√™me si l'application est ferm√©e, ou d√©sinstall√©e, le syst√®me Android continuera de bloquer les domaines, ce qui est la m√©thode la plus √©conome en batterie.
* Pour √©viter de se retrouver avec un fichier hosts modif√©, et par exemple l'application desinstall√©e, une notification est p√©vue pour avertir l'utilisateur que la protction reposant sur le fichier hosts est active. Pour permettre l'affichage de celle-ci, il est n√©cesaire de d√©sactiver l'optimisation de la batterie pour autoriser l'utilisation en arri√®re-plan sans restrictions de l'application, afin de ne pas tuer le service d'affichage de la notification.

### 5 MyFirewall pour utilisateurs avanc√©s

### 5.1 Utilisation avec un VPN tiers (ex: NordVPN, ProtonVPN)
Android poss√®de une limitation logicielle : **un seul service VPN peut √™tre actif √† la fois** sur l'ensemble du syst√®me. Comme MyFirewall utilise un VPN local pour le filtrage d'applications et d'URLs (sur appareils non-root√©s), le lancement d'un VPN commercial d√©sactivera automatiquement la protection de MyFirewall.

*   **Appareils Non-Root√©s :** Vous devez choisir entre la protection MyFirewall ou votre VPN. Ils ne peuvent pas fonctionner simultan√©ment.
*   **Appareils Root√©s :** C'est le mode recommand√© pour les utilisateurs de VPN tiers. En utilisant le moteur **Hosts** pour le filtrage d'URLs, MyFirewall n'utilise pas le service VPN d'Android. Vous pouvez donc b√©n√©ficier du blocage des publicit√©s de MyFirewall **ET** de la connexion s√©curis√©e de votre VPN habituel en m√™me temps.

### 5.1 A propos des presets

* Plusieurs fonctionnalit√©s proposent des presets (regles de filtrage et serveur DNS). Si vous ne souhaitez pas les utiliser, Œ©zzz
* il suffit de les d√©sactiver, et d'utilser vos pr√©f√©rences √† leur place. Ainsi la seule activit√© de l'application sur le r√©seau sera de filtrer les URLs et bloquer le traffic des applications.


### ‚ö†Ô∏è Note importante pour les utilisateurs Root. Si vous d√©cidez de d√©sinstaller MyFirewall, il est **imp√©ratif** de suivre ces √©tapes pour restaurer votre syst√®me √† son √©tat d'origine :

1.  **D√©sactivez toutes les listes de blocage** (Presets et User Blocklist) dans l'onglet "Rules".
2.  **D√©sactivez le "Filtrage d'URL (Hosts)"** dans l'√©cran "Param√®tres".
3.  Cette action d√©clenche la routine de nettoyage qui **restaure le fichier `hosts` original** de votre appareil.

*Note : Si vous d√©sinstallez l'application sans effectuer ces √©tapes, les domaines publicitaires resteront bloqu√©s ind√©finiment sur votre appareil, car la modification du fichier syst√®me est permanente.*

---
*MyFirewall - Votre vie priv√©e, vos r√®gles.*
